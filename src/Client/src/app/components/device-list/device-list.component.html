<h1>Devices</h1>
<p *ngIf="!devices"><em>Loading...</em></p>

<div *ngIf="devices">
<ng-container *ngIf="{ a: -1, b: 5, c: 5 }; let variable">
  <a [routerLink]="['/devices/add']"><button type="button" class="btn btn-primary">Add Device</button></a>
  <div class = "btn-wrapper">
          <button type="button" class="btn pagebtn btn-outline-info next" *ngIf="variable.b < devices.length" (click)="variable.a = variable.a + variable.c; variable.b = variable.b + variable.c ">Next</button>
          <button type="button" class="btn pagebtn btn-outline-info" *ngIf="variable.a > 0" (click)="variable.a = variable.a - variable.c;variable.b = variable.b - variable.c ">Prev</button>
  </div>
  <div class="btn-wrapper pages">
     <button type="button" class="btn pagebtn btn-outline-secondary next" (click)="variable.c = 15;variable.b = 15;variable.a = -1">15</button>
     <button type="button" class="btn pagebtn btn-outline-secondary next margin" (click)="variable.c = 10;variable.b = 10;variable.a = -1">10</button>
     <button type="button" class="btn pagebtn btn-outline-secondary next margin" (click)="variable.c = 5;variable.b = 5;variable.a = -1">5</button>
  </div>
  <table class='table' *ngIf="devices">
    <thead>
      <tr>
        <th>IP Address</th>
        <th>Name</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let device of devices; let i = index">
      <tr *ngIf="i > variable.a && i < variable.b" ng-click="">
        <td><a class="cell_link" [routerLink]="['/devices/details', device.id]">{{i+1}}.{{ device.ipAddress }}</a></td>
        <td><a class="cell_link" [routerLink]="['/devices/details', device.id]">{{ device.name }}</a></td>
        <td>
          <a class="cell_link" [routerLink]="['/devices/details', device.id]">
            <span class="fas {{device.status ? 'fa-check-circle' : 'fa-times-circle'}}"></span>
          </a>
        </td>
        <td class="edit_td">
          <a class="span_link" [routerLink]="['/devices/edit', device.id]"><button type="button" class="btn btn-success left_button">Edit</button></a>
          <a [routerLink]="['/devices/']" (click)="deleteDevice(device)"><button type="button" class="btn btn-danger">Delete</button></a>
        </td>
      </tr>
      </ng-container>
    </tbody>
  </table>
      <div class = "btn-wrapper">
          <button type="button" class="btn pagebtn btn-outline-info next" *ngIf="variable.b < devices.length-1" (click)="variable.a = variable.a + variable.c; variable.b = variable.b + variable.c ">Next</button>
          <button type="button" class="btn pagebtn btn-outline-info" *ngIf="variable.a > 0" (click)="variable.a = variable.a - variable.c;variable.b = variable.b - variable.c ">Prev</button>
      </div>
</ng-container>
</div>